execute as @e[tag=new_workbench] at @s align xyz run function tnts:workbench/place
execute as @e[tag=tnt_workbench] at @s unless block ~ ~ ~ dropper{CustomName:'{"text":"TNT Workbench"}'} run function tnts:workbench/break

# execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:fire_charge",Count:1b},{Slot:1b,id:"minecraft:fire_charge",Count:1b},{Slot:2b,id:"minecraft:fire_charge",Count:1b},{Slot:3b,id:"minecraft:fire_charge",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:fire_charge",Count:1b},{Slot:6b,id:"minecraft:fire_charge",Count:1b},{Slot:7b,id:"minecraft:fire_charge",Count:1b},{Slot:8b,id:"minecraft:fire_charge",Count:1b}]} run playsound minecraft:entity.experience_orb.pickup master @p

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:fire_charge",Count:1b},{Slot:1b,id:"minecraft:fire_charge",Count:1b},{Slot:2b,id:"minecraft:fire_charge",Count:1b},{Slot:3b,id:"minecraft:fire_charge",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:fire_charge",Count:1b},{Slot:6b,id:"minecraft:fire_charge",Count:1b},{Slot:7b,id:"minecraft:fire_charge",Count:1b},{Slot:8b,id:"minecraft:fire_charge",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Fire TNT","italic":false}'},CustomModelData:2401,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_fire"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:phantom_membrane",Count:1b},{Slot:1b,id:"minecraft:phantom_membrane",Count:1b},{Slot:2b,id:"minecraft:phantom_membrane",Count:1b},{Slot:3b,id:"minecraft:phantom_membrane",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:phantom_membrane",Count:1b},{Slot:6b,id:"minecraft:phantom_membrane",Count:1b},{Slot:7b,id:"minecraft:phantom_membrane",Count:1b},{Slot:8b,id:"minecraft:phantom_membrane",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Bat TNT","italic":false}'},CustomModelData:2402,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_bat"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:sponge",Count:1b},{Slot:1b,id:"minecraft:sponge",Count:1b},{Slot:2b,id:"minecraft:sponge",Count:1b},{Slot:3b,id:"minecraft:sponge",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:sponge",Count:1b},{Slot:6b,id:"minecraft:sponge",Count:1b},{Slot:7b,id:"minecraft:sponge",Count:1b},{Slot:8b,id:"minecraft:sponge",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Sponge TNT","italic":false}'},CustomModelData:2403,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_sponge"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{id:"minecraft:nether_star",Count:1b},{id:"minecraft:tnt",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Nuclear TNT","italic":false}'},CustomModelData:2404,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_nuclear"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:shulker_shell",Count:1b},{Slot:1b,id:"minecraft:shulker_shell",Count:1b},{Slot:2b,id:"minecraft:shulker_shell",Count:1b},{Slot:3b,id:"minecraft:shulker_shell",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:shulker_shell",Count:1b},{Slot:6b,id:"minecraft:shulker_shell",Count:1b},{Slot:7b,id:"minecraft:shulker_shell",Count:1b},{Slot:8b,id:"minecraft:shulker_shell",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Levitation TNT","italic":false}'},CustomModelData:2405,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_levitation"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:ice",Count:1b},{Slot:1b,id:"minecraft:ice",Count:1b},{Slot:2b,id:"minecraft:ice",Count:1b},{Slot:3b,id:"minecraft:ice",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:ice",Count:1b},{Slot:6b,id:"minecraft:ice",Count:1b},{Slot:7b,id:"minecraft:ice",Count:1b},{Slot:8b,id:"minecraft:ice",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Icy TNT","italic":false}'},CustomModelData:2406,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_icy"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:firework_rocket",Count:1b},{Slot:1b,id:"minecraft:firework_rocket",Count:1b},{Slot:2b,id:"minecraft:firework_rocket",Count:1b},{Slot:3b,id:"minecraft:firework_rocket",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:firework_rocket",Count:1b},{Slot:6b,id:"minecraft:firework_rocket",Count:1b},{Slot:7b,id:"minecraft:firework_rocket",Count:1b},{Slot:8b,id:"minecraft:firework_rocket",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Fireworks TNT","italic":false}'},CustomModelData:2407,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_fireworks"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{id:"minecraft:arrow",Count:1b},{id:"minecraft:tnt",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:carrot_on_a_stick",Count:1b,tag:{display:{Name:'{"text":"Throwable TNT","italic":false}'},CustomModelData:12344,throwableTNT:1b}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{id:"minecraft:golden_apple",Count:1b},{id:"minecraft:tnt",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Health TNT","italic":false}'},CustomModelData:2408,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_health"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{id:"minecraft:end_crystal",Count:1b},{id:"minecraft:tnt",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Charged TNT","italic":false}'},CustomModelData:2409,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_charged"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:end_stone",Count:1b},{Slot:1b,id:"minecraft:end_stone",Count:1b},{Slot:2b,id:"minecraft:end_stone",Count:1b},{Slot:3b,id:"minecraft:end_stone",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:end_stone",Count:1b},{Slot:6b,id:"minecraft:end_stone",Count:1b},{Slot:7b,id:"minecraft:end_stone",Count:1b},{Slot:8b,id:"minecraft:end_stone",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Ender TNT","italic":false}'},CustomModelData:2410,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_end"]}}}]}

execute as @e[tag=tnt_workbench] at @s if block ~ ~ ~ dropper{Items:[{Slot:0b,id:"minecraft:netherrack",Count:1b},{Slot:1b,id:"minecraft:netherrack",Count:1b},{Slot:2b,id:"minecraft:netherrack",Count:1b},{Slot:3b,id:"minecraft:netherrack",Count:1b},{Slot:4b,id:"minecraft:tnt",Count:1b},{Slot:5b,id:"minecraft:netherrack",Count:1b},{Slot:6b,id:"minecraft:netherrack",Count:1b},{Slot:7b,id:"minecraft:netherrack",Count:1b},{Slot:8b,id:"minecraft:netherrack",Count:1b}]} run data merge block ~ ~ ~ {Items:[{Slot:4b,id:"minecraft:item_frame",Count:1b,tag:{display:{Name:'{"text":"Nether TNT","italic":false}'},CustomModelData:2411,EntityTag:{Silent:1b,Invisible:1b,Tags:["new_tnt_nether"]}}}]}